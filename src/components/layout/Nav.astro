---
import { SITE } from '../../config';
import Icon from '../ui/Icon.astro';
import type { iconPaths } from '../ui/IconPaths';
import ThemeToggle from '../ui/ThemeToggle.astro';

/** Icon links to social media */
const iconLinks: { label: string; href: string; icon: keyof typeof iconPaths }[] = [
	{ label: 'GitHub', href: SITE.socialLinks[0].href, icon: 'github-logo' },
];
---

<nav>
	<a href="/" class="site-title">
		<img src="/assets/images/profile.png" alt="" class="nav-profile-image" />
		{SITE.author}
	</a>
	<div class="nav-actions">
		<div class="socials">
			{
				iconLinks.map(({ href, icon, label }) => (
					<a href={href} class="social">
						<span class="sr-only">{label}</span>
						<Icon icon={icon} />
					</a>
				))
			}
		</div>
		<ThemeToggle />
	</div>
</nav>

<style>
	nav {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 0.75rem 1rem;
		font-family: var(--font-brand);
		font-weight: 500;
		/* Prevent disappearing during view transitions */
		view-transition-name: top-nav;
	}

	/* Disable animation for this element during transitions */
	::view-transition-old(top-nav),
	::view-transition-new(top-nav) {
		animation: none;
		mix-blend-mode: normal;
	}

	.site-title {
		display: flex;
		gap: 0.5rem;
		align-items: center;
		line-height: 1.1;
		color: var(--gray-0);
		text-decoration: none;
	}

	.nav-profile-image {
		width: 1.8em;
		height: 1.8em;
		border-radius: 50%;
		object-fit: cover;
		border: 2px solid var(--accent-regular);
	}

	.nav-actions {
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}

	.socials {
		--icon-size: var(--text-xl);
		--icon-padding: 0.5rem;
		display: none;
		font-size: var(--icon-size);
	}

	.social {
		display: flex;
		padding: var(--icon-padding);
		text-decoration: none;
		color: var(--accent-dark);
		transition: color var(--theme-transition);
	}

	.social:hover,
	.social:focus {
		color: var(--accent-text-over);
	}

	@media (min-width: 50em) {
		nav {
			padding: 1rem 1.5rem;
		}

		.site-title {
			font-size: var(--text-lg);
		}

		.socials {
			--icon-padding: 0.375rem;
			display: flex;
			gap: 0;
		}
	}

	@media (min-width: 60em) {
		nav {
			padding: 1rem 5rem;
		}
	}
</style>
